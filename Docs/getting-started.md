## 取扱説明書（YouTube運用支援ツール）

このツールは、YouTube の公開データを検索・閲覧し、結果やコメントを CSV 形式で出力するためのブラウザアプリケーションです。ログインは不要で、YouTube Data API v3 の API キーのみを使用します。

### 1. このツールでできること
このツールでは、任意のキーワードで動画を検索し、直近の期間や国で対象を絞り込めます。最低再生数や、再生数がチャンネル登録者数の何倍以上であるかといった条件、ショート動画（Shorts）を含めるかどうかの条件を設定できます。検索結果では、タイトル、チャンネル名、再生数、登録者数（非公開の場合は「非公開」）、高評価数、公開日、国などの情報を確認できます。必要に応じて特定動画のコメントを取得し、動画一覧やコメントを CSV として保存できます。

### 2. YouTube API キーの準備
本ツールは YouTube の公開データにアクセスするために API キーを使用します。API キーは、利用中のブラウザの localStorage にのみ保存され、サーバへ送信されません。YouTube Data API には 1 日あたりの利用上限（クォータ）があり、上限に達すると当日は新たな取得ができなくなります。API キーはいつでも再生成して差し替えられます。

### 3. API キーの取得手順
1. `https://console.cloud.google.com/` にアクセスし、Google アカウントでログインします。
2. 画面上部のプロジェクト選択から新しいプロジェクトを作成します（任意の名称で構いません）。
3. 左側メニュー「API とサービス」→「ライブラリ」を開きます。
4. 「YouTube Data API v3」を検索し、「有効にする」を選択します。
5. 左側メニュー「認証情報」を開き、「認証情報を作成」→「API キー」を選択します。
6. 生成された API キーをコピーします。
7. 必要に応じて「API 制限」で「YouTube Data API v3」のみ許可に設定します（推奨）。

### 4. 注意事項
API キーは第三者と共有しないでください。公開リポジトリ等にコミットしないでください。万一漏えいした場合は、Google Cloud Console の「認証情報」から該当キーを削除し、新しいキーを再発行してください。クォータ上限に達した場合は、時間を置くか取得件数や条件を調整してください。取得したデータの利用にあたっては、YouTube および Google の利用規約ならびに関連法令に従ってください。

### 5. 使い方
1. アプリケーションを開きます（デプロイされた URL または `index.html` をブラウザで開きます）。
2. 画面上部の入力欄に API キーを貼り付け、「保存」を押します。正しく保存されると有効表示になります。
3. 検索条件を設定します。
   - キーワード、対象期間（半年/1年/2年/3年）、国、最低再生数を指定できます。
   - ショート動画の扱い（含めない/含める/のみ）を選択できます。
   - 登録者比のしきい値（例：3 倍以上）を指定できます。
   - 登録者数が非公開のチャンネルを含めるかどうかを選択できます（含める場合は最低再生数のみで判定します）。
4. 「検索」を押すと取得を開始します。処理状況が画面に表示されます。
5. 結果一覧から、各動画の情報を確認できます。必要に応じて行内の「取得」ボタンでコメントを取得できます。
6. CSV 出力が必要な場合は、上部の「一覧 CSV 出力」で動画一覧を保存するか、行の「CSV」または「選択コメント CSV 出力」でコメントを保存します。

### 6. データとプライバシー
API キーと取得データはブラウザ内で保持され、サーバに保存されません。API キーを削除したい場合は、入力欄を空にして保存するか、ブラウザのサイトデータを削除してください。

### 7. エラーが出た場合の確認
エラーが表示された場合は、API キーの入力誤りや未有効化、API 制限の設定を確認してください。また、クォータ上限に達していないかを確認してください。条件が厳しすぎる場合は、期間や最低再生数、登録者比、ショート設定、国指定を調整してください。
